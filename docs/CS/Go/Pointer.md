## Introduction

指针在Go语言中被保留了下来，但是影响力似乎大大降低了，出于 安全方面的考虑，指针运算等一些重要特性被移除，使指针显得不再那么重要。

在Go语言中，声明一个指针变量的示例代码如下： 
```go
var p *int
```
变量名为p，其中的*int为变量的类型。对*int进一步拆解，*表明了p是一个指针变量，用来存储一 个地址，而int是指针的元素类型，也就是当p中存了一个有效地址的时候，该地址处的内存会被解 释为int类型。 无论指针的元素类型是什么，指针变量本身的格式都是一致的，即一个无符号整型，变量大小能够 容纳当前平台的地址

有着不同元素类型的指针被视为不同类型，这是语言设计层面强加的一层安全限制，因为不同的元 素类型会使编译器对同一个内存地址进行不同的解释


指针本身就是个无符号整型，这一点不会因不同的元素类型而有所不同，而元素类型会影响编译器 如何对指针中存储的地址进行解释

readint

```go

```

readint32



可以看到第一条用于复制指针存储的地址的指令没有发生变化。第二条指令中的内存寻址单元 0（AX）也没有变，而原本后两条MOVQ指令现在变成了MOVL，表明复制的数据长度发生了变 化，从8字节变成了4字节。造成这一变化的原因正是指针元素类型从int变成了int32


在Go语言中取地址运算符与C语言相比似乎没什么变化，编译器会确保应用取地址运算符 的变量类型与指针的元素类型是一致的

以下几点使用指针的建议，供你参考：
1. 不要对 map、slice、channel 这类引用类型使用指针；
2. 如果需要修改方法接收者内部的数据或者状态时，需要使用指针；
3. 如果需要修改参数的值或者内部数据时，也需要使用指针类型的参数；
4. 如果是比较大的结构体，每次参数传递或者调用方法都要内存拷贝，内存占用多，这时候可以考虑使用指针；
5. 像 int、bool 这样的小数据类型没必要使用指针；
6. 如果需要并发安全，则尽可能地不要使用指针，使用指针一定要保证并发安全；
7. 指针最好不要嵌套，也就是不要使用一个指向指针的指针，虽然 Go 语言允许这么做，但是这会使你的代码变得异常复杂。



## Links

- [Golang](/docs/CS/Go/Go.md)