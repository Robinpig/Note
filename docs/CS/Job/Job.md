## Introduction



任务抽象


任务堆积

同MQ中消息堆积, 需考虑限流措施


任务超时


任务重试


重复消费


任务分配



以闲鱼小法庭案例

由分配制转向申领制 将比较重的用户鉴权和捞取数据移动到任务处理外 防止任务超时
分配制随机抽取会使部分用户反感, 前期可以投递优惠权益引流 用户参与, 让用户主动申请  增长用户黏度


对单个用户控制队列长度 

任务过快消费 造成用户资源浪费

在单个任务里对投票用户数量做限制 尽量在满足最低终止条件时 分配别的任务给用户 但只能尽力



Spring兼容性

大多都采用了processor的接口方案，用户通过接口继承实现调度任务即可，或者使用提供的方法注解，由框架自动生成代理processor 

   


## Links



## References

1. [闲鱼技术 浅谈任务分发中的机制与并发](https://mp.weixin.qq.com/s/nGMxR7QDnoolTU5SYIDy2A)